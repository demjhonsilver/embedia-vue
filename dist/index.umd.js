(function(m,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],l):(m=typeof globalThis<"u"?globalThis:m||self,l(m.EmbediaVue={},m.Vue))})(this,function(m,l){"use strict";let h=1;const f=(e,t,o,s)=>{const i=e.videoUrl,a=w(i);if(!a)throw new Error("Invalid Instagram video URL");let n=document.getElementById(t);n||(n=document.createElement("div"),n.id=t,document.body.appendChild(n));let r=document.querySelector(`.${o}`);r||(r=document.createElement("div"),r.className=`video-${s} ${o}`,n.appendChild(r));const c=document.createElement("blockquote");c.setAttribute("class","instagram-media"),c.setAttribute("data-instgrm-permalink",`https://www.instagram.com/p/${a}/`),c.setAttribute("data-instgrm-version","13");const d=document.createElement("a");if(d.setAttribute("href",i),c.appendChild(d),r.appendChild(c),!document.getElementById("instagramEmbedScript")){const u=document.createElement("script");u.setAttribute("async",""),u.setAttribute("id","instagramEmbedScript"),u.setAttribute("src","//www.instagram.com/embed.js"),n.appendChild(u)}},w=e=>{const t=/\/([a-zA-Z0-9_-]+)\/?$/,o=e.match(t);return o?o[1]:null},y=e=>{const t=e.match(/\/(?:video|hub)\/([^_]+)/)||e.match(/(?:^|\/)([a-z0-9]+)(?:_[\w-]*)?$/i);if(t&&t[1])return t[1];throw new Error("Invalid Dailymotion video URL")},b=(e,t,o)=>{const s=e.videoUrl,i=y(s),a=e.autoplay?"1":"0",n=e.controls?"1":"0",r=e.fullscreen?"1":"0",c=document.createElement("iframe");c.src=`https://www.dailymotion.com/embed/video/${i}?autoplay=${a}&controls=${n}&fullscreen=${r}`,c.width=e.width||640,c.height=e.height||360,c.frameBorder="0",c.allowFullscreen=!0,c.className=o,t.appendChild(c)},g=e=>{const t=e.match(/\/(\d+)/);return t&&t[1]?t[1]:(console.error("Invalid Vimeo video URL"),"")},$=(e,t,o)=>{const s=e.width||640,i=e.height||360,a=e.controls,n=e.autoplay,r=e.loop,c=g(e.videoUrl),d=document.createElement("div");d.className=`video-${h} ${o}`,d.dataset.eWidth=s,d.dataset.eHeight=i,d.dataset.efullscreen=e.fullscreen,d.dataset.eVideoId=c,t.appendChild(d);const u=document.createElement("script");return u.src="https://player.vimeo.com/api/player.js",u.async=!0,u.onload=()=>{new window.Vimeo.Player(d,{id:c,width:s,height:i,controls:a,autoplay:n,muted:!0,loop:r}).ready().then(()=>{})},document.body.appendChild(u),()=>{d&&(d.innerHTML=""),document.body.removeChild(u)}},v=(e,t,o)=>{const s=i=>{const a=/\/status\/(\d+)/,n=i.match(a);return n&&n[1]?n[1]:null};try{const i=e.videoUrl,a=s(i),n=document.createElement("div");n.className=`video-${h} ${o}`,n.id=`tweet-${a}`;const r=document.createElement("script");r.src="https://platform.twitter.com/widgets.js",r.charset="utf-8",r.async=!0,r.addEventListener("load",()=>{window.twttr.widgets.createTweet(a,n)}),t.appendChild(n),t.appendChild(r)}catch(i){console.error("Error embedding Twitter content:",i)}},p=new Map,E=(e,t,o)=>{const s=e.videoUrl;if(p.has(s)||p.has(s))return;p.set(s,!0);const i=e.width||"100%",a=e.height||"100%",n=new XMLHttpRequest;n.open("GET",`https://www.tiktok.com/oembed?url=${encodeURIComponent(s)}`,!0),n.onload=function(){if(n.status>=200&&n.status<300){const r=JSON.parse(n.responseText);r.html&&(r.html=r.html.replace(/<script[^>]*>.*<\/script>/gi,""));const c=document.createElement("div"),d=Date.now();if(c.className=`video-${d} ${o}`,c.style.width=i,c.style.height=a,c.innerHTML=r.html,!document.querySelector('script[src="https://www.tiktok.com/embed.js"]')){const u=document.createElement("script");u.src="https://www.tiktok.com/embed.js",document.body.appendChild(u)}t?t.appendChild(c):document.body&&document.body.appendChild(c)}else console.error("Failed to fetch TikTok oEmbed data: "+n.statusText)},n.onerror=function(){console.error("An error occurred while embedding TikTok video.")},n.send()},_=(e,t,o)=>{const s=e.videoUrl,i=e.autoplay?"autoplay=true":"autoplay=false",a=i?"muted=true":"muted=false",n=e.width||640,r=e.height||360,c=document.createElement("iframe");c.setAttribute("src",`https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(s)}&width=${n}&height=${r}&show_text=false&${i}&${a}`),c.setAttribute("width",n),c.setAttribute("height",r),c.setAttribute("frameborder","0"),e.fullscreen&&c.setAttribute("allowfullscreen","true"),c.className=`video-${h} ${o} custom-facebook`,h++,t.appendChild(c)},I=e=>{const t=e.match(/(?:shorts\/|v=)([a-zA-Z0-9_-]{11})/);if(t&&t[1])return t[1];const o=e.match(/(\?v=|\/embed\/|\/watch\?v=|\/v\/|\/e\/|youtu.be\/)([^#&?]*).*/);if(o&&o[2].length===11)return o[2];throw new Error("Invalid YouTube video URL")},C=(e,t,o)=>{if(!t){console.error("Container element not found.");return}const s=e.autoplay?1:0,i=e.autoplay||e.muted?1:0,a=e.autoplay||e.loop?1:0,n=I(e.videoUrl),r=document.createElement("iframe");r.src=`https://www.youtube.com/embed/${n}?autoplay=${s}&mute=${i}&loop=${a?1:0}&controls=${e.controls?1:0}`,r.width=e.width||640,r.height=e.height||360,r.frameborder="0",e.fullscreen&&r.setAttribute("allow","fullscreen"),r.className=o,t.appendChild(r)},U=e=>{const t=e.cssname?.trim()||"";if(!t.match(/^[a-zA-Z_][\w-]*$/))throw console.error("Invalid class name:",t),new Error("Invalid class name");if(!document.querySelector(`#default-style-${t}`)){const s=document.createElement("style");s.id=`default-style-${t}`,s.textContent=`
            .${t} {
              display: flex;
              justify-content: center;
              align-items: center;
              min-width: 256px;
              min-height: 144px;
              margin: auto;
            }
          `,document.head.appendChild(s)}const o=document.querySelector(`.${t}`);if(!o)throw console.error("Container not found for class:",t),new Error("Container not found");for(;o.firstChild;)o.removeChild(o.firstChild);if(e.videoUrl.includes("youtube.com")||e.videoUrl.includes("youtu.be"))C(e,o,t);else if(e.videoUrl.includes("facebook.com")||e.videoUrl.includes("fb.com"))_(e,o,t);else if(e.videoUrl.includes("tiktok.com")||e.videoUrl.includes("tiktok"))E(e,o,t);else if(e.videoUrl.includes("twitter.com"))v(e,o,t);else if(e.videoUrl.includes("vimeo.com"))$(e,o,t);else if(e.videoUrl.includes("dailymotion.com")||e.videoUrl.includes("dailymotion"))b(e,o,t);else if(e.videoUrl.includes("instagram.com")||e.videoUrl.includes("instagram"))f(e,o,t);else throw new Error("Invalid video URL")},S="",k=(e,t)=>{const o=e.__vccOpts||e;for(const[s,i]of t)o[s]=i;return o},V={name:"EmbediaVue",props:{clip:{type:String,required:!0},width:{type:[Number,String],default:640},height:{type:[Number,String],default:""},autoplay:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},cssname:{type:String,default:"default-video-class"}},setup(e){const t=l.ref("56.25%");l.onMounted(()=>{U({videoUrl:e.clip,width:e.width,height:e.height,autoplay:e.autoplay,fullscreen:e.fullscreen,controls:e.controls,cssname:e.cssname}),o(e.width,e.height)}),l.watch(()=>[e.width,e.height],([s,i])=>{o(s,i)},{immediate:!0});function o(s,i){s&&i?t.value=`${i/s*100}%`:t.value="56.25%"}return{aspectRatio:t}}},T=[(e=>(l.pushScopeId("data-v-d26b150f"),e=e(),l.popScopeId(),e))(()=>l.createElementVNode("div",{class:"video-content"},null,-1))];function x(e,t,o,s,i,a){return l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass([o.cssname,"responsive-container"]),style:l.normalizeStyle({"--aspect-ratio":s.aspectRatio,width:"auto",maxWidth:"100%"})},T,6)}const A=k(V,[["render",x],["__scopeId","data-v-d26b150f"]]);m.EmbediaVue=A,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});
